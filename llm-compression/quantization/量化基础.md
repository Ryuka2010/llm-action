

LLM量化可视化指南（理论）

- https://newsletter.maartengrootendorst.com/p/a-visual-guide-to-quantization

权重量化及可视化权重分布（实践）

- https://www.analyticsvidhya.com/blog/2025/01/neural-network-weight-quantization/




# 线性量化


## 对称（Symmetric）量化


### Absmax 量化


在 Absmax 量化中，会取张量中所有元素绝对值的最大值 α 作为量化范围的依据，然后将原始数据的取值范围映射到对称的整数区间，如对于 8 位量化，映射到 [-127,127] 或 [-128,127] 这样以零为中心的对称范围。


对称量化




## 非对称（Asymmetric）量化

### Zero-point 量化

在量化过程中，需要将浮点数范围映射到整数范围，同时引入一个零点（zero-point）来处理量化范围的偏移。零点是一个整数值，用于表示原始浮点数中的 0，使得量化后的整数范围可以不对称地表示原始数据的范围。


Zero-point 量化则需要确定零点，以处理量化范围的非对称性和偏移量。










对于权重，是静态且已知，选择范围的校准技术包括：

- 手动选择输入范围的百分位数
- 优化原始权重和量化权重之间的均方误差（MSE）
- 最小化原始值和量化值之间的熵（KL散度）









## 工作流程：
求权重张量中的最大绝对值
计算缩放因子以拟合 int8 范围内的值
对值进行缩放和舍入
提供量化和去量化值






